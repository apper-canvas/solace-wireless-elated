@tailwind base;
@tailwind components;
@tailwind utilities;

@import 'react-toastify/dist/ReactToastify.css';

@layer base {
  body {
    @apply bg-surface-50 text-surface-800 dark:bg-surface-900 dark:text-surface-100;
    font-family: 'Inter', sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    @apply font-heading font-semibold;
  }
}

@layer components {
  .btn {
    @apply px-4 py-2 rounded-lg font-medium transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2;
  }
  
  .btn-primary {
    @apply bg-primary text-white hover:bg-primary-dark focus:ring-primary;
  }
  
  .btn-secondary {
    @apply bg-secondary text-white hover:bg-secondary-dark focus:ring-secondary;
  }

  .btn-outline {
    @apply border border-surface-300 hover:bg-surface-100 dark:border-surface-700 dark:hover:bg-surface-800;
  }

  .card {
    @apply bg-white dark:bg-surface-800 rounded-xl shadow-card p-4;
  }

  .card-neu {
    @apply bg-surface-50 dark:bg-surface-800 rounded-xl shadow-neu-light dark:shadow-neu-dark p-4;
  }

  .playing-card {
    @apply relative select-none cursor-pointer rounded-lg transition-transform;
    height: 150px;
    width: 100px;
  }

  .playing-card-face-down {
    @apply bg-gradient-to-br from-primary-dark to-primary;
  }

  .difficulty-option {
    @apply transition-all duration-200 hover:scale-105 cursor-pointer;
  }

  .playing-area {
    @apply grid gap-2 md:gap-4;
  }

  .pile {
    @apply rounded-lg border-2 border-dashed border-surface-300 dark:border-surface-700 min-h-[150px] flex justify-center items-center;
  }
}

@layer utilities {
  .scrollbar-hide {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  .scrollbar-hide::-webkit-scrollbar {
    display: none;
  }
}

.card-overlap {
  margin-top: -100px;
}

/* Card animations */
.card-flip {
  position: relative;
  transition: transform 0.5s ease;
  transform-style: preserve-3d;
  perspective: 1000px;
}

.card-flip.flipped {
  transform: rotateY(180deg) translateZ(1px);
}

/* For the card front and back faces */
.card-flip > div {
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
  transform-style: preserve-3d;
  transition: transform 0.5s ease;
}

/* Back of card (face down) */
.playing-card-face-down {
  transform: rotateY(180deg);
  transition: transform 0.5s ease, background-color 0.3s ease;
}

/* Front of card (face up) */
.card-flip .bg-white, 
.card-flip .dark\:bg-surface-800 {
  transform: rotateY(0deg);
  position: absolute;
  top: 0;
  left: 0;
}

.card-drag {
  @apply shadow-xl z-50;
}

.valid-drop-target {
  @apply ring-2 ring-primary animate-pulse;
}

.invalid-drop-target {
  @apply ring-2 ring-red-500;
}

/* Victory animations */
.confetti-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  z-index: 1000;
  pointer-events: none;
}

.flying-card {
  position: absolute;
  width: 80px;
  height: 112px;
  background: white;
  border-radius: 8px;
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  animation: fly-away 2s ease-out forwards;
  transform-origin: center;
}

@keyframes fly-away {
  0% {
    transform: translate(0, 0) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(var(--tx), var(--ty)) rotate(var(--rotate));
    opacity: 0;
  }
}

/* Sound settings styles */
.volume-slider {
  @apply w-full h-2 bg-surface-200 dark:bg-surface-700 rounded-full appearance-none;
  -webkit-appearance: none;
  cursor: pointer;
}

.volume-slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  @apply w-4 h-4 bg-primary rounded-full;
  transition: transform 0.1s ease;
}

.volume-slider::-moz-range-thumb {
  @apply w-4 h-4 bg-primary rounded-full border-none;
  transition: transform 0.1s ease;
}

.volume-slider::-webkit-slider-thumb:hover,
.volume-slider::-moz-range-thumb:hover {
  transform: scale(1.2);
}

.volume-slider:focus {
  @apply outline-none ring-2 ring-primary/30;
}

.settings-toggle {
  @apply flex items-center space-x-2 text-sm font-medium cursor-pointer;
}

.settings-toggle-switch {
  @apply relative inline-block w-10 h-5 rounded-full bg-surface-300 dark:bg-surface-700 transition-colors duration-200;
}

.settings-toggle-switch div {
  @apply absolute top-0.5 left-0.5 bg-white w-4 h-4 rounded-full transform transition-transform duration-200;
}